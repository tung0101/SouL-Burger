var ListProduct = [
  {
    id: 1,
    name: "BURGER THAN TRE",
    price: 67,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/t/a/takesumi_bg_1.jpg",
    category: 1,
  },
  {
    id: 2,
    name: "COMBO BURGER TẮM PHÔ MAI (cỡ vừa)",
    price: 89,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/3/2/32-combo-whopper-jr-b_-t_m-ph_-mai-c_-v_a_1.jpg",
    category: 2,
  },
  {
    id: 3,
    name: "BURGER BÒ NƯỚNG KHOAI TÂY LÁT",
    price: 50,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/b/u/burger_b_khoai_t_y_l_t_1.jpg",
    category: 3,
  },
  {
    id: 4,
    name: "GÀ GIÒN KHÔNG CAY (1 miếng)",
    price: 36,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/1/-/1-mieng-ga-gion-ko-cay.jpg",
    category: 4,
  },
  {
    id: 5,
    name: "KHOAI TÂY TẮM PHÔ MAI",
    price: 32,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/k/h/khoai-t_y-chi_n-t_m-ph_-mai.jpg",
    category: 5,
  },
  {
    id: 6,
    name: "COCA",
    price: 22,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/c/o/coke-2.jpg",
    category: 6,
  },
  {
    id: 7,
    name: "BURGER THAN TRE 2 MIẾNG BÒ",
    price: 195,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/b/g/bg_than_tre_2_mi_ng_b_.jpg",
    category: 1,
  },
  {
    id: 8,
    name: "COMBO BURGER 2 MIẾNG PHÔ MAI",
    price: 100,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/3/7/37-combo-burger-2-mi_ng-b_-ph_-mai_1.jpg",
    category: 2,
  },
  {
    id: 9,
    name: "BURGER PHÔ MAI",
    price: 35,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/8/-/8-burger-b_-ph_-mai.jpg",
    category: 3,
  },
  {
    id: 10,
    name: "GÀ BBQ (1 miếng)",
    price: 40,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/1/-/1-canh-ga-bbq.jpg",
    category: 4,
  },
  {
    id: 11,
    name: "KHOAI TÂY CHIÊN",
    price: 37,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/k/h/khoai-t_y-chi_n-_l_.jpg",
    category: 5,
  },
  {
    id: 12,
    name: "FANTA",
    price: 22,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/f/a/fanta-2.jpg",
    category: 6,
  },
  {
    id: 13,
    name: "COMBO BURGER GÀ NƯỚNG",
    price: 93,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/3/6/36-combo-burger-g_-n_ng_1.jpg",
    category: 2,
  },
  {
    id: 14,
    name: "BURGER GÀ NƯỚNG",
    price: 40,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/1/5/15-burger-g_-n_ng_1.jpg",
    category: 3,
  },
  {
    id: 15,
    name: "CÁ CUỘN RONG BIỂN  ",
    price: 25,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/c/a/ca_cuo_n_rong_bie_n_2pcs_.jpg_1.jpg",
    category: 5,
  },
  {
    id: 16,
    name: "TRÀ CHANH",
    price: 40,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/n/e/nesttea_1.jpg",
    category: 6,
  },
  {
    id: 17,
    name: "COMBO BURGER BÒ THỊT HEO XÔNG KHÓI",
    price: 99,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/4/1/41-combo-burger-b_-th_t-heo-x_ng-kh_i_1.jpg",
    category: 2,
  },
  {
    id: 18,
    name: "BURGER 2 MIẾNG BÒ NƯỚNG",
    price: 165,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/2/-/2-mieng-b_-burger-b_-n_ng-whopper_3.jpg",
    category: 3,
  },
  {
    id: 19,
    name: "SPRITE",
    price: 22,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/s/p/sprite-2.jpg",
    category: 6,
  },
  {
    id: 20,
    name: "COMBO BURGER BÒ NƯỚNG KHOAI TÂY LÁT",
    price: 86,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/c/o/combo_burger_khoai_t_y_l_t.jpeg",
    category: 2,
  },
  {
    id: 21,
    name: "BURGER BÒ TẮM PHÔ MAI (Bánh lớn)",
    price: 119,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/9/-/9-whopper-jr-b_-t_m-ph_-mai-c_-v_a.jpg",
    category: 3,
  },
  {
    id: 22,
    name: "NƯỚC CAM",
    price: 40,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/m/i/minutemaid_1.jpg",
    category: 6,
  },
  {
    id: 23,
    name: "BURGER GÀ GIÒN CAY",
    price: 69,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/1/4/14-burger-g_-gi_n-cay_1.jpg",
    category: 3,
  },
  {
    id: 24,
    name: "MILO",
    price: 25,
    desc: "Lorem, ipsum dolor sit amet consectetur adipisicing elit. Suscipit dignissimos ipsa debitis inventore numquam, ex sint. Perferendis impedit vel recusandae accusantium illo deleniti ratione sint magni, debitis quo quos inventore?",
    image:
      "https://burgerking.vn/media/catalog/product/cache/1/small_image/316x/9df78eab33525d08d6e5fb8d27136e95/m/i/milo_2.jpg",
    category: 6,
  }
];
var ListCategory = [
  {
    id: 1,
    name: "Món mới",
    image:
      "https://png.pngtree.com/png-vector/20190501/ourmid/pngtree-new-icon-design-png-image_1012797.jpg",
  },
  {
    id: 2,
    name: "Combo",
    image:
      "https://aeonmall-binhduongcanary.com.vn/wp-content/uploads/2020/08/18d46e3c3c7c3f-2810004_01miengcj01khoaivua01pepsi.png",
  },
  {
    id: 3,
    name: "Burger",
    image:
      "https://product.hstatic.net/200000291375/product/item_03_c50afed6762c4db7a4020f3fd2b0c679_master.jpg",
  },
  {
    id: 4,
    name: "Gà rán",
    image:
      "https://ruavangfood.com/storage/uploads/2021/11/13/618f10c7363e4.png",
  },
  {
    id: 5,
    name: "Món ăn kèm",
    image:
      "https://thucannhanhrengreng.com/wp-content/uploads/2020/06/Mini_Fries___74816.1427115605.1280.1280.png",
  },
  {
    id: 6,
    name: "Thức Uống",
    image:
      "https://phuclong.com.vn/uploads/dish/d38f5a0deb702b-lytravai_thuytinh11.png",
  },
];
var ListBlogPosts = [
  {
    id: 1,
    title: "Your New Favorite Zucchini Recipe: These Crispy Air Fryer Fries",
    image: "./src/img/index/blog-posts/post1.jpg",
    content: `From turning tired tortillas into crispy tortilla chips and serving restaurant-style chicken Parmesan with ease and efficiency, the air fryer continues to ignite culinary inspiration. That's why there was no question that I'd reach for the air fryer basket as soon as zucchini season started. In this recipe, tender zucchini are cut into batons and coated in garlicky, herby, Parmesan panko coating that turns crisp and brown in the air fryer.`,
    blogCategory: 5,
    author: "Quang Vinh",
    postTime: "9:59 CH",
  },
  {
    id: 2,
    title:
      "5 Must-Make Toddler-Friendly Dinners from Michelle Piccolo of Feeding Our Toddlers",
    image: "./src/img/index/blog-posts/post2.jpg",
    content: `Lately more than ever, my energy levels have completely faded by the end of the day and I'm feeling especially strapped for time to get dinner on the table. Some weeks I build a meal plan around recipes that require just a few ingredients, or big-batch recipes that leave us with leftovers to reheat throughout the week. This week is all about dinners that come together with a single pot (or pan).
    Any time dinner can be made with a single piece of cookware, you can almost always count on the fact that it won't require too many ingredients, too much effort, or a sink full of dirty dishes. This week I'm filling my meal plan with easy one-pot meals that will appeal to both the big and little eaters at my table.`,
    blogCategory: 1,
    author: "Viet Thao",
    postTime: "10:08 SA",
  },
  {
    id: 3,
    title:
      "Fly By Jing Just Launched a Zingy Limited-Edition Seasoning That Hot Pepper Fans Will Love",
    image: "./src/img/index/blog-posts/post3.jpg",
    content: `Of all our favorite brand collaborations (and there are a ton!), Fly By Jing may be responsible for some of the most delicious ones. While the brand is our go-to for stocking our freezer with restaurant-quality dumplings, they've also put out super creative limited-edition products since their launch that constantly catch our eye (and tastebuds). We raved about the exclusive chili crisp smoked salmon that they released with editor-loved brand Fishwife and — although obviously not edible — the spicy candle they put out with Siblings is a genius product in our opinion! 

    Now, Fly By Jing has announced yet another exciting collaboration. They've teamed up with cult-favorite artisanal salt company Jacobsen Salt Co. to create the limited-edition Tingly Sichuan Salt. It's the perfect fiery seasoning for just about anything, from sprinkling it on popcorn or using it as a rub to coating the rim of a cocktail. Get creative in this kitchen with this fun seasoning that will instantly fire up your taste buds!
    When it comes to bringing flavor to our tables, Fly By Jing doesn't hold back. There's their spicy-sweet Zhong Sauce (a personal favorite), which is ideal for drizzling on dumplings, noodles, veggies, and honestly just about anything you'd like. Then there's the Mala Spice Mix, a dry spice blend that features 11 potent herbs and spices including Sichuan pepper. And of course, there's the popular Sichuan Chili Crisp, which is the only 100-percent all-natural Sichuan chili sauce, made right in Chengdu. It's spicy, crispy, savory, and tingly for an exciting pop of flavor with every bite.

    Now, you can awaken your taste buds with this new Tingly Sichuan Salt. It features 54 hertz of hand-picked Tribute pepper for the tingly sensation you love, combined with Jacobsen Salt Co.'s pure Kosher sea salt that's harvested directly from Netarts Bay on the Oregon coast. You can use it just as you would any sea salt — as a finishing touch, part of a delicious dry rub, or on the rim of a spicy margarita. It's a simple way to instantly light up any meal, snack, or drink.

    Because this Fly By Jing salt is a limited-edition run, we're confident you'll want to get your hands on it fast. If we learned anything from their collab with Fishwife, it's that Fly By Jing fans don't wait around. Treat yourself and your spice collection to this awesome Tingly Sichuan Salt and add some tingly heat to your next bite.`,
    blogCategory: 6,
    author: "Manh Tuan",
    postTime: "8:47 CH",
  },
  {
    id: 4,
    title: "Strawberry Muffin",
    image: "./src/img/index/blog-posts/post4.jpg",
    content: `Move aside, blueberries: These fruit-filled muffins are all about strawberries. These muffins don't take a lot of work, yet they turn out perfectly tender with mouthwatering pieces of strawberries baked throughout. Plus, they smell incredible while they bake, like a big batch of sweet and fragrant strawberry jam. For a contrast in texture, each muffin is sprinkled with crunchy turbinado sugar before they go into the oven, resulting in a crisp, golden muffin top.

    Start with the muffin batter! Oil-based muffins tend to stay moist and tender longer than butter-based muffins. Here we use a neutral vegetable oil, but a richer, more fruity olive oil could be used in its place. Sour cream also helps give the muffins a moist crumb. Also make sure to bake the muffins just until they are done so they don't dry out in the oven. When a toothpick inserted into the center of the muffin comes out clean, the muffins are done.`,
    blogCategory: 2,
    author: "J2TeamNNL",
    postTime: "4:23 CH",
  },
  {
    id: 5,
    title: "Crispy Tuna Patties with Scallions and Dijon Mustard",
    image: "./src/img/index/blog-posts/post5.jpg",
    content: `In addition to canned beans and jarred pasta sauce, a stack of canned tuna is a staple you'll always find in my pantry. It is so incredibly versatile. I make my fair share of tuna salad and tuna casserole, and sometimes use a can to bulk up a salad, but my absolute favorite thing to make with canned tuna is tuna patties.

    Tuna patties are a fun way to turn a few cans of tuna into an easy, super-satisfying meal. And thanks to a mix of lemon, scallions, and herbs, along with the crisp, golden-brown crust, they even feel a little fancy.
    
    There are two tricks that will keep the patties from falling apart. First you need a binder that holds the ingredients together well. Here, that's a mix of a couple lightly beaten eggs, mayo, and panko breadcrumbs.

    Second, you'll chill the shaped patties in the fridge for about 20 minutes before cooking. The patties will feel a little wet when you're shaping them (don't worry, I'm sure you did a fine job draining the tuna). This is OK and normal, and also why it's important to chill the patties before cooking. It gives the panko time to absorb the moisture, which helps the patties hold together and keep from falling apart.`,
    blogCategory: 3,
    author: "Anh Nhan",
    postTime: "5:34 SA",
  },
  {
    id: 6,
    title: "Cranberry-Orange Quick Bread",
    image: "./src/img/index/blog-posts/post6.jpg",
    content: `When it comes to cranberries, I'm all in when the tiny, tart fruits are baked into desserts. This easy quick bread, for example, is one of my favorite ways to bake with them. Orange plays so nicely with the cranberries, adding a bit of sweetness and fragrant flavor.

    This cranberry-orange bread isn't too sweet, and it can be baked up into a loaf or into muffins with equal success. It's well-worth adding to your baking rotation.
    
    Fresh or frozen cranberries work equally well in this quick bread, which means it's possible to make this treat year-round. Whatever you choose to use, cut the berries in half if they're bigger than a blueberry so that the bites with cranberry aren't too tart. It's easier to cut frozen berries while they're still frozen, so do that first before you thaw them.
    
    You can definitely freeze cranberry bread — just make sure it's well-wrapped first. Thaw at room temperature and rewarm if you'd like before serving. Cranberry bread makes a wonderful holiday gift or as a sweet treat for gatherings and parties. I even made a loaf for my daughter's bake sale and it was one of the first items to sell out!`,
    blogCategory: 4,
    author: "Quang Vinh",
    postTime: "11:11 SA",
  },
];
var ListBlogCategory = [
  {
    id: 1,
    name: "Dinner Ideas",
  },
  {
    id: 2,
    name: "Breakfasts",
  },
  {
    id: 3,
    name: "Lunch",
  },
  {
    id: 4,
    name: "Snacks",
  },
  {
    id: 5,
    name: "Recipes",
  },
  {
    id: 6,
    name: "Cocktails",
  },
];
var cart = [];

function handleMenu() {
  let menuBtn = document.querySelector(".list-icon");
  let closeMenuBtn = document.querySelector(".close-icon");
  let headerItemBox = document.querySelector(".header-item");
  let headerItem = document.querySelector(".header-item-box");
  menuBtn.onclick = () => {
    showMenu();
  };
  closeMenuBtn.onclick = () => {
    hideMenu();
  };
  headerItemBox.onclick = () => {
    hideMenu();
  };
  headerItem.onclick = (e) => {
    e.stopPropagation();
  };

  function showMenu() {
    if (!headerItemBox.classList.contains("visible")) {
      headerItemBox.classList.add("visible");
    }
  }

  function hideMenu() {
    if (headerItemBox.classList.contains("visible")) {
      headerItem.style = "right: -100%";
      headerItemBox.style = "background-color: transparent;";
      setTimeout(() => {
        headerItemBox.classList.remove("visible");
        headerItem.style = "";
        headerItemBox.style = "";
      }, 300);
    }
  }
}

function renderProducts(
  selector,
  data = ListProduct,
  isShowPrice = false,
  limit = 6
) {
  const products = document.querySelector(selector);
  if (Array.isArray(data)) {
    let categoryId = Number(
      new URLSearchParams(window.location.search).get("category-id")
    );
    if (categoryId) {
      data = ListProduct.filter((product) => {
        return product.category === categoryId;
      });
    }
    if (limit) {
      data = data.slice(0, limit);
    }
    if (data.length > 6) {
      data = paginate(data, 6);
    }
    let htmls = data.reduce((acc, product) => {
      return (acc += `
            <div class="product-item">
                <a href="./detail.html?product-id=${product.id}">
                    <img src="${product.image}" alt="">
                    <span ${isShowPrice ? 'class="product-name"' : ""}>
                        ${product.name}
                    </span>
                </a>
                ${
                  !isShowPrice
                    ? `
                <span class="product-price">
                ${product.price}.000 VNĐ
                </span>
                <button product-id="${product.id}">Thêm vào giỏ hàng</button>
                `
                    : `
                <span class="product-price">
                ${product.price}.000 VNĐ
                </span>
                <button product-id="${product.id}">Thêm vào giỏ hàng</button>
                `
                }
            </div>`);
    }, "");
    products.innerHTML = htmls;
  }
}
function renderProducts_menu(
  selector,
  data = ListProduct,
  isShowPrice = false,
  limit = 0
) {
  const products = document.querySelector(selector);
  if (Array.isArray(data)) {
    let categoryId = Number(
      new URLSearchParams(window.location.search).get("category-id")
    );
    if (categoryId) {
      data = ListProduct.filter((product) => {
        return product.category === categoryId;
      });
    }
    if (limit) {
      data = data.slice(0, limit);
    }
    if (data.length > 6) {
      data = paginate(data, 6);
    }
    let htmls = data.reduce((acc, product) => {
      return (acc += `
                <div class="product-item">
                    <a href="./detail.html?product-id=${product.id}">
                        <img src="${product.image}" alt="">
                        <span ${isShowPrice ? 'class="product-name"' : ""}>
                            ${product.name}
                        </span>
                    </a>
                    ${
                      !isShowPrice
                        ? `
                    <span class="product-price">
                    ${product.price}.000 VNĐ
                    </span>
                    <button product-id="${product.id}">Thêm vào giỏ hàng</button>
                    `
                        : `
                    <span class="product-price">
                    ${product.price}.000 VNĐ
                    </span>
                    <button product-id="${product.id}">Thêm vào giỏ hàng</button>
                    `
                    }
                </div>`);
    }, "");
    products.innerHTML = htmls;
  }
}

var filterSelectElement = document.querySelector("#filter-selected");
if (filterSelectElement) {
  filterSelectElement.onchange = () => {
    let dataRender;
    switch (filterSelectElement.value) {
      case "under30":
        dataRender = ListProduct.filter((product) => {
          return product.price < 30;
        });
        break;
      case "over30":
        dataRender = ListProduct.filter((product) => {
          return product.price > 30;
        });
        break;
      default:
        dataRender = ListProduct;
        break;
    }
    renderProducts(".products", dataRender);
  };
}

function renderCategories(selector, isShowAll = false) {
  let categoriesElement = document.querySelector(selector);
  let htmls;
  if (isShowAll) {
    htmls = ListCategory.reduce((acc, category) => {
      return (acc +=
        /*html*/
        `
        <a href="./product.html?category-id=${category.id}" class="categories-item">
            <img src="${category.image}" alt="" height="100px" width="100px">
            <span>${category.name}</span>
        </a>
        `);
    }, "");
  } else {
    htmls = ListCategory.reduce((acc, category) => {
      return (acc +=
        /*html*/
        `
        <li><a href="?category-id=${category.id}">${category.name}</a></li>
        `);
    }, "");
  }
  categoriesElement.innerHTML = htmls;
}

function renderDetailProduct(selector) {
  let detailElement = document.querySelector(selector);
  if (detailElement) {
    let dataRender = ListProduct[0];
    if (window.location.search) {
      let productId = Number(
        new URLSearchParams(window.location.search).get("product-id")
      );
      dataRender = ListProduct.find((product) => {
        return product.id === productId;
      });
    }
    let htmls =
      /*html*/
      `
    <div class="product-detail-text">
        <h1>
            ${dataRender.name}
        </h1>
        <span>${dataRender.price}.000 VNĐ</span>
        <p>
            ${dataRender.desc}
        </p>
        <div class="product-detail-add-cart">
            <input class="form-control" type="text" name="số lượng" placeholder="Số Lượng">
            <button product-id="${dataRender.id}">Thêm vào giỏ hàng</button>
        </div>
    </div>
    <div class="product-detail-img">
        <img src="${dataRender.image}" alt="">
    </div>
    `;
    detailElement.innerHTML = htmls;
  }
}

function renderBlogCategories(selector) {
  let blogCategoryElement = document.querySelector(selector);
  if (blogCategoryElement) {
    let htmls = ListBlogCategory.reduce((acc, categoryItem) => {
      return (acc +=
        /*html*/
        `
            <li>
                <a href="./blog.html?blog-category=${categoryItem.id}">
                    ${categoryItem.name}
                </a>
            </li>
        `);
    }, "");
    blogCategoryElement.innerHTML = htmls;
  }
}

function renderBlogPosts(selector, dataRender = ListBlogPosts, limit = 0) {
  let blogPostsElement = document.querySelector(selector);
  if (blogPostsElement) {
    let blogCategoryId = Number(
      new URLSearchParams(window.location.search).get("blog-category")
    );
    if (blogCategoryId) {
      dataRender = ListBlogPosts.filter((blogItem) => {
        return blogItem.blogCategory === blogCategoryId;
      });
    }
    if (limit) {
      dataRender = dataRender.slice(0, limit);
    }
    if (dataRender.length > 3) {
      dataRender = paginate(dataRender, 3);
    }
    let htmls = dataRender.reduce((acc, blogItem) => {
      let category = ListBlogCategory.find((category) => {
        return category.id === blogItem.blogCategory;
      });
      return (acc +=
        /*html*/
        `
        <div class="blog-posts-item">
            <div class="blog-posts-item-img">
                <a href="./blog-post.html?blog-id=${blogItem.id}">
                    <img src="${blogItem.image}" alt="">
                </a>
            </div>
            <div class="blog-posts-item-content">
                <div class="blog-posts-info">
                    <span class="blog-posts-label">${category.name}</span>
                </div>
                <a href="./blog-post.html?blog-id=${blogItem.id}">
                    <span class="blog-posts-title">
                        ${blogItem.title}
                    </span>
                </a>
                <div class="blog-posts-info">
                    <span class="posts-author">${blogItem.author}</span>
                    <span class="post-time">${blogItem.postTime}</span>
                </div>
            </div>
        </div>
        `);
    }, "");
    blogPostsElement.innerHTML = htmls;
  }
}

function renderPost(selector) {
  let postElement = document.querySelector(selector);
  if (postElement) {
    let dataRender = ListBlogPosts[0];
    let blogId = dataRender.id;
    if (window.location.search) {
      blogId = Number(
        new URLSearchParams(window.location.search).get("blog-id")
      );
      dataRender = ListBlogPosts.find((blogItem) => {
        return blogItem.id === blogId;
      });
    }
    let blogCategory = ListBlogCategory.find((blogCategory) => {
      return blogCategory.id === blogId;
    });
    let htmls =
      /*html*/
      `
    <p class="blog-category">
        ${blogCategory.name} <span> > ${dataRender.title}</span>
    </p>
    <div class="post-header">
        <div class="post-img">
            <img src="${dataRender.image}" alt="">
        </div>
        <div class="post-header-info">
            <h1 class="post-title">
                ${dataRender.title}
            </h1>
            <div class="post-info">
                <div class="post-info-item">
                    <span>Author:</span>
                    <span class="author">${dataRender.author}</span>
                </div>
                <div class="post-info-item">
                    <span>Last updated:</span>
                    <span class="time">${dataRender.postTime}</span>
                </div>
            </div>
        </div>
    </div>
    <div class="post-body">
        <p>
            ${dataRender.content.replace(/(?:\r\n|\r|\n)/g, "<br>")}
        </p>
    </div>
    <div class="post-authors">
        <p>Written by <span>${dataRender.author}</span></p>
    </div>
    `;
    postElement.innerHTML = htmls;
  }
}

cart = JSON.parse(localStorage.getItem("cart"));
if (!cart) {
  cart = [];
}
function handleAddCart() {
  var addCartBtns = document.querySelectorAll("button[product-id]");
  Array.from(addCartBtns).forEach((addCartBtn) => {
    addCartBtn.onclick = (e) => {
      let productId = Number(e.target.getAttribute("product-id"));
      let cartItem = cart.find((cartItem) => {
        return cartItem.productId === productId;
      });
      if (cartItem) {
        cartItem.quantity++;
      } else {
        let productAdd = {
          productId,
          quantity: 1,
          isChecked: false,
        };
        cart.push(productAdd);
      }
      updateCart();
    };
  });
}

var tableElement = document.querySelector(".cart-box");
function renderCart() {
  if (tableElement) {
    if (cart && cart.length !== 0) {
      let tableHead = `
        <thead>
            <tr class="cart-item cart-item-heading">
                <th></th>
                <th>
                    Product
                </th>
                <th>
                    Price
                </th>
                <th>
                    Quantity
                </th>
                <th class="total-price">
                    Total Price
                </th>
                <th class="action">
                    Action
                </th>
            </tr>
        </thead>
        `;
      let tableFoot = `
        <tfoot>
            <tr class="cart-item cart-item-footer">
                <td></td>
                <td>
                    <div class="cart-footer-control">
                        <input ${
                          checkingCheckedAll() ? "checked" : ""
                        } type="checkbox" name="" id="">
                        <span>Select All</span>
                    </div>
                </td>
                <td class="total" colspan="2">
                    Total:
                    <span>30</span>
                </td>
                <td class="checkout" colspan="2">
                    <button class="checkout-btn">Check Out</button>
                </td>
            </tr>
        </tfoot>
        `;
      let tableBody =
        `<tbody>` +
        cart.reduce((acc, item) => {
          let product = ListProduct.find((product) => {
            return product.id === item.productId;
          });
          return (acc +=
            /*html */
            `
            <tr class="cart-item" product-id="${item.productId}">
                <td>
                    <input type="checkbox" ${
                      item.isChecked ? "checked" : ""
                    } class="cart-item-checkbox" name="cart-checkbox">
                </td>
                <td>
                    <a href="./detail.html?product-id=${
                      product.id
                    }" class="product-info">
                        <img src="${
                          product.image
                        }" alt="" class="cart-item-img">
                        <p class="cart-item-name">
                            ${product.name}
                        </p>
                    </a>
                </td>
                <td class="cart-item-unit-price">
                    ${product.price}.000 VNĐ
                </td>
                <td>
                    <div class="quantity-control">
                        <button class="minus-btn">-</button>
                        <input type="text" class="quantity" value="${
                          item.quantity
                        }">
                        <button class="plus-btn">+</button>
                    </div>
                </td>
                <td class="total-price">
                    ${product.price * item.quantity}.000 VNĐ
                </td>
                <td class="action">
                    <button class="delete-btn">
                        Delete
                    </button>
                </td>
            </tr>
            `);
        }, "") +
        `</tbody>`;
      tableElement.innerHTML = tableHead + tableBody + tableFoot;
      checkSelectAllCart(checkingCheckedAll());
    } else {
      renderEmptyCart();
    }
  }
}

function renderEmptyCart() {
  let emptyCartHtmls = `
<tr class="empty-cart">
    <td>
        <img src="./src/img/index/no-cart.png" alt="">
        <span>
            Your Shopping Cart is empty
        </span>
    </td>
</tr>
`;
  tableElement.innerHTML = emptyCartHtmls;
}

function checkSelectAllCart() {
  let selectAllBtn = document.querySelector(
    '.cart-footer-control input[type="checkbox"]'
  );
  selectAllBtn.checked = checkingCheckedAll();
  if (selectAllBtn) {
    selectAllBtn.onclick = (e) => {
      if (selectAllBtn.checked) {
        e.target.checked;
        // console.log('Checked');
        cart.forEach((item) => {
          item.isChecked = true;
        });
      } else {
        // console.log('Not Checked');
        cart.forEach((item) => {
          item.isChecked = false;
        });
      }
      renderCart(selectAllBtn.checked);
      updateCart();
      renderTotalPrice();
    };
    handleCartItem();
  }
}

function checkingCheckedAll() {
  return cart.every((cartItem) => {
    return cartItem.isChecked;
  });
}

function renderTotalPrice() {
  let totalPriceElement = document.querySelector(".total span");
  if (totalPriceElement) {
    let totalPrice = cart.reduce((acc, item) => {
      if (item.isChecked) {
        let product = ListProduct.find((product) => {
          return product.id === item.productId;
        });
        return (acc += product.price * item.quantity);
      }
      return acc;
    }, 0);
    totalPriceElement.innerHTML = totalPrice + ".000 VNĐ";
  }
}

function updateCart() {
  if (cart) {
    localStorage.removeItem("cart");
  }
  localStorage.setItem("cart", JSON.stringify(cart));
}

function handleCartItem() {
  let cartItems = document.querySelectorAll("tbody .cart-item");
  cartItems.forEach((cartItemElement) => {
    let productId = Number(cartItemElement.getAttribute("product-id"));
    let checkbox = cartItemElement.querySelector(".cart-item-checkbox");
    let cartItem = cart.find((cartItem) => {
      return cartItem.productId === productId;
    });
    let product = ListProduct.find((product) => {
      return product.id === productId;
    });
    let totalPriceElement = cartItemElement.querySelector(".total-price");
    let delBtn = cartItemElement.querySelector(".action .delete-btn");
    checkbox.onclick = (e) => {
      if (e.target.checked) {
        cartItem.isChecked = true;
      } else {
        cartItem.isChecked = false;
      }
      updateCart();
      let selectAllBtn = document.querySelector(
        '.cart-footer-control input[type="checkbox"]'
      );
      selectAllBtn.checked = checkingCheckedAll();
      renderTotalPrice();
    };
    delBtn.onclick = () => {
      let indexCartItem = cart.indexOf(cartItem);
      cart.splice(indexCartItem, 1);
      updateCart();
      cartItemElement.style = "opacity: 0";
      setTimeout(() => {
        cartItemElement.remove();
      }, 500);
      if (cart.length === 0) {
        setTimeout(() => {
          renderEmptyCart();
        }, 500);
      }
      renderTotalPrice();
    };
    controlQuantity(cartItemElement, cartItem, product, totalPriceElement);
  });
}

function controlQuantity(
  cartItemElement,
  cartItem,
  product,
  totalPriceElement
) {
  let quantityControlElement =
    cartItemElement.querySelector(".quantity-control");
  let inputQuantity = quantityControlElement.querySelector("input.quantity");
  let minusBtn = quantityControlElement.querySelector(".minus-btn");
  let plusBtn = quantityControlElement.querySelector(".plus-btn");
  let quantity = Number(inputQuantity.value);
  minusBtn.onclick = () => {
    changeQuantity("minus");
  };
  plusBtn.onclick = () => {
    changeQuantity("plus");
  };
  inputQuantity.onchange = () => {
    if (
      !isNaN(Number(inputQuantity.value)) &&
      Number(inputQuantity.value) > 0
    ) {
      quantity = Number(inputQuantity.value);
    } else {
      quantity = 0;
    }
    changeQuantity();
  };
  function changeQuantity(type) {
    switch (type) {
      case "minus":
        if (quantity > 0) {
          quantity--;
        }
        break;
      case "plus":
        quantity++;
        break;
    }
    inputQuantity.value = quantity;
    cartItem.quantity = quantity;
    totalPriceElement.innerHTML = quantity * product.price;
    updateCart();
    renderTotalPrice();
  }
}

var changeViewBtn = document.querySelector(".view-icon");
var blogPostsElement = document.querySelector(".blog-posts");
var isGridView = true;
var isListView = false;
if (blogPostsElement && changeViewBtn) {
  changeViewBtn.onclick = (e) => {
    if (isGridView) {
      isGridView = false;
    } else {
      isGridView = true;
    }
    localStorage.setItem("isGridView", JSON.stringify(isGridView));
    checkListView(isGridView);
  };
  isGridView = JSON.parse(localStorage.getItem("isGridView"));
  checkListView(isGridView);

  function checkListView(isGridView) {
    if (isGridView) {
      blogPostsElement.classList.remove("list-view");
      changeViewBtn.src = "./src/img/index/grid-icon.png";
    } else {
      blogPostsElement.classList.add("list-view");
      changeViewBtn.src = "./src/img/index/list-view-icon.png";
    }
  }
}

function switchViewRelatedPosts(selector) {
  let element = document.querySelector(selector);
  let x = window.matchMedia("(min-width: 640px)");
  if (x.matches) {
    if (element.classList.contains("list-view")) {
      element.classList.remove("list-view");
    }
  } else {
    if (!element.classList.contains("list-view")) {
      element.classList.add("list-view");
    }
  }
}

function paginate(data, itemPerPage) {
  let pageNumWrapper = document.querySelector(".page-number ul");
  if (pageNumWrapper) {
    let currentPage = 1;
    let page = new URLSearchParams(window.location.search).get("page");
    if (page) {
      currentPage = Number(page);
    }
    page = currentPage;
    let listLength = data.length;
    let numberPage = Math.ceil(listLength / itemPerPage);
    let start = itemPerPage * --page;
    let end = start + itemPerPage;

    renderPageNumber(pageNumWrapper, numberPage);
    activePageNum(pageNumWrapper, currentPage);
    return data.slice(start, end);
  }
  return data;
}

function renderPageNumber(wrapper, pageNumber) {
  let htmls = "";
  for (let i = 1; i <= pageNumber; i++) {
    htmls += `<li><a data-page="${i}" href="?page=${i}">${i}</a></li>`;
  }
  wrapper.innerHTML = htmls;
}

function activePageNum(wrapper, currentPage) {
  let activePageNum = wrapper.querySelector("a.active");
  if (activePageNum) {
    activePageNum.classList.remove("active");
  }
  let currentPageNum = wrapper.querySelector(`a[data-page="${currentPage}"]`);
  if (!currentPageNum.classList.contains("active")) {
    currentPageNum.classList.add("active");
  }
}
